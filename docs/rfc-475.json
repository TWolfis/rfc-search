{
  "series": "Request for Comments",
  "number": "475",
  "howpublished": "RFC 475",
  "publisher": "RFC Editor",
  "doi": "10.17487/RFC0475",
  "url": "https://www.rfc-editor.org/info/rfc475",
  "title": "FTP and Network Mail System",
  "pagetotal": "5",
  "year": "1973",
  "month": "mar",
  "body": "\n\n\n\n\n\nNetwork Working Group                                         A. Bhushan\nRequest for Comments: 475                                       MIT-DMCG\nNIC: 14919                                                 March 6, 1973\n\n\n                      FTP AND NETWORK MAIL SYSTEM\n\n   This paper describes my understanding of the results of the Network\n   Mail System meeting SRI-ARC on February 23, 1973, and the\n   implications for FTP (File Transfer Protocol).  There was general\n   agreement at the meeting that network mail function should be within\n   FTP.\n\n   FTP currently provides two commands for handling mail.  The MAIL\n   command allows a user to send mail via the TELNET connection (the\n   server collects the mail and determines its end by searching for the\n   character sequence \"CRLF.CRLF\").  The MLFL (mail file) command allows\n   a user to send mail via the data connection (requires a user-FTP to\n   handle the command but transfer is more efficient as server need not\n   search for a special character sequence).  These commands are being\n   used to provide network mailing facilities.  Local mail and SNDMSG\n   programs have been modified at many sites to include network mailing\n   (e.g., USER@HOST at BBN_TENEX and MAIL host user at MIT-DMCG).\n\n   The network mail system should provide a facility whereby users can\n   conveniently send messages to other network users who have\n   \"mailboxes\" at one or more hosts.  It is not required that the\n   messages or mail be delivered in real-time.  The network mail system\n   is not an interactive inter-console communication facility, but it\n   may be possible for some sites to deliver \"urgent\" mail to users in\n   real-time (e.g., print mail at user console if user is currently\n   logged-in).  The mail system also does not provide a general inter-\n   process communication facility, though it may be possible to deliver\n   messages to programs which have mailbox addresses.  Inter-process and\n   inter-entity communication facilities are very desirable but are\n   beyond the scope of the network mail system.\n\n   The concepts of \"mailbox\" and \"mailbox addresses\" are central to this\n   discussion of network mail system.  A mailbox is a place where the\n   mail is stored before a user picks it up.  It may be a file in the\n   user's directory or it may be a bin for hard-copy.  The mailbox\n   address is the address required by the sender in order to send the\n   mail to its destination mailbox.  For users who have an \"on-line\"\n   network mailbox, the mailbox address contains the Host address and\n   the user's mailbox identification at that Host.  The mailbox\n   identification is that which is required by an FTP-server in order\n   that it may put the mail in the desired mailbox.  The terms mailbox\n   address will be used to refer to the on-line network mailbox address.\n\n\n\nBhushan                                                         [Page 1]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   NETWORK MAIL SYSTEM FUNCTIONS\n\n   The network mail system should provide the following six functions:\n\n   1. CREATING: This refers to the manner in which the user creates or\n      composes his message.  The FTP servers do not explicitly provide\n      any message editing capability (server's editing conventions may\n      be applicable in the case of MAIL command).  Editing conventions\n      such as those for character delete and line cancel vary widely\n      over the network.  The user is most familiar with his local Host\n      conventions and these should be used for network mail editing.\n      The user also has access to local editing systems which can be\n      used for composing message files.  The message file may then be\n      transmitted via the MAIL or MLFL commands (MLFL being preferable).\n      The present FTP approach of assuming the creation of messages to\n      be sender's responsibility seems adequate.  TIP users if they\n      desire editing facilities should use intermediate Hosts for\n      creating and sending messages.\n\n   2. LOCATING: How sender determines receivers address.  FTP assumes\n      that the sender knows the receivers correct address.  There is no\n      published or \"on-line\" list of mailbox addresses.  There is,\n      however, a list of network participants maintained (on-line) and\n      published by the Network Information Center (NIC) at SRI-ARC.  The\n      network users have been assigned a unique \"NIC Ident\" and Host\n      site by the NIC.  It was therefore specified in FTP that FTP-\n      servers maintain a table that maps NIC Idents to mail-box\n      identifications.  The NIC will maintain on-line and publish the\n      local mailbox address information for network participants.  It\n      would be possible for users to look up a published list, or querry\n      the NIC on-line to locate destination addresses.  The NIC will\n      also provide an on-line facility (similar to FTP) that can be used\n      by programs for retrieving the address information.  This latter\n      approach of the NIC's maintaining addresses has several\n      advantages.  The user can obtain a number of addresses for a\n      group, and use these to transmit mail.  The FTP servers need not\n      maintain NIC Ident Tables, and the NIC can provide a good facility\n      for locating addresses from last names, NIC Idents, or even\n      sketchy information.  It may still be desirable that FTP servers\n      accept NIC idents, last names, and other standard forms as mailbox\n      identifiers.\n\n   3. SENDING: How message is sent to the destination mailbox.  The\n      messages may be sent directly to the destination mailbox (via\n      TELNET or Data connections) or via an intermediate Host such as\n      the NIC.  FTP does not explicitly provide for mail forwarding by\n      intermediate Hosts but FTP servers may be able to recognize\n      addresses as not being local, and forward mail.  In the event mail\n\n\n\nBhushan                                                         [Page 2]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n      is to be forwarded, a desirable facility is to have the\n      intermediate site return an acknowledgement (by request) upon\n      delivery of mail or if delivery fails within a specified time.\n      The current FTP specifications recommend that FTP-servers accept\n      multiple addresses but do not require this.\n\n   4. STORING: Where mail is stored before reading and if information is\n      available for later reference or retrieval.  The FTP does not\n      require that sender store mail or keep duplicate copies.  It is\n      the receiver's responsibility to store the information for\n      reading, reference, or retrieval.  The receiver need not store the\n      mail as a data file but can directly print it out on a user\n      console or line printer.  FTP does not specify the procedures for\n      storage handling by intermediate sites.  If intermediate site is\n      used for forwarding the mail until it is delivered to its final\n      destination.  If the mail is undeliverable then the intermediate\n      site should return the undelivered information to the sender.  A\n      similar situation arises when sending of mail is deferred by the\n      sending site (destination host may be down).  The sending site\n      then acts as an intermediate forwarder insofar as the user is\n      concerned.\n\n   5. RECORDING: Should the mail be catalogued and recorded for later\n      reference and retrieval.  FTP currently does not provide an\n      explicit mechanism for the receiver to record mail.  If an\n      intermediate site (the NIC) is used for mail distribution then a\n      function of such a site could be to record mail, if so requested.\n      NIC is ideal for recording mail, but other sites may also wish to\n      record the mail.  If the mail is recorded, then it is not\n      necessary to send the entire contents of the mail.  Instead only a\n      citation for the document can be sent and the receiver can\n      retrieve the mail only if he wants to.  This is particularly\n      useful for large documents such as NWG/RFC which are distributed\n      to a group.  The citation may contain author, title, retrieval\n      pathname, and perhaps an abstract.\n\n   6. READING: How the mail is finally presented to and read by the\n      user.  FTP currently assumes that mail reading is entirely the\n      receiving site's function.  However, there are ways in which the\n      sender can aid the receiver in providing improved mail reading\n      facilities.  For example, the receiving system, if it knows a\n      message to be urgent can deliver it immediately at a user console.\n      Long messages may be put in separate files with notification in\n      user's regular mail.  Alternately, mail could be a citation that\n      the reading program can retrieve upon user request.  Selective\n      handling of different classes of mail is important for an improved\n      network mail system.\n\n\n\n\nBhushan                                                         [Page 3]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   MODELS FOR MAIL SYSTEM USE\n\n   The user of a mail system can use intermediate site for locating\n   addresses, recording and/or distributing mail, and for creating and\n   reading mail.  We therefore have the following models for mail system\n   use:\n\n   1. The user connects directly to the destination FTP server and sends\n      mail using the MAIL command.  Local editing functions are limited\n      to character delete and line cancel (assuming user is in line-at-\n      a-time mode) and server conventions may also apply.  The user only\n      needs a user-TELNET program at his site but needs to know the\n      destination address.  This model is specially applicable to TIP\n      and other mini-Host users who do not have a user-FTP or user-Mail\n      programs.\n\n   2. The user composes the mail using a local editor (or mail system)\n      and then requests his user-FTP or mail program to send the mail\n      directly to the destination via the FTP MAIL or MLFL commands.\n      The user needs to know the destination address.  The mail can be\n      deferred by the sending program if the destination Host is down.\n      TIP users can use this model by using the facilities of a \"home-\n      base\" Host.\n\n   3. The user uses an intermediate site such as NIC (other sites may\n      provide forwarding services too) for mail distribution.  The user\n      need not know the destination addresses but can use NIC idents for\n      individuals and groups of individuals.  The mail can be recorded\n      on request and its sending can be deferred (the destination Host\n      may be down, or it may be more economical to defer mail).  The\n      message to be mailed may be created at the local site using local\n      editing facilities, or it may be created directly at the\n      intermediate site.\n\n   4. The user may send a citation of the mail instead of the complete\n      mail item.  The citation refers to an existing document which can\n      be retrieved on-line (such as the NIC number of a NIC journal\n      communication).\n\n   MAILING TO TIP USERS\n\n   The TIP does not currently provide an FTP server or mailbox\n   facilities.  While it is possible to send mail to TIP terminals (such\n   as line printers) it seems undesirable to do so because of the\n   possibility of losing mail, the lack of privacy, and the fact that\n   user may be several (or several hundred) miles away from the location\n   of the TIP.  The TIP users normally have a \"home-base\" computer where\n   they do their computing work most of the time.  The TIP user problem\n\n\n\nBhushan                                                         [Page 4]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   is best solved by requiring that TIP users rent mailboxes at their\n   \"home-base\" Host.  Such a Host can provide good mail reading and\n   querry facilities.  A TIP user can request his \"home\" Host to send\n   him notification of mail on a TIP terminal.  If RDML command (NWG/RFC\n   458) is accepted in FTP, TIP users could use such a command.  More\n   important, if the user has a number of mailboxes on different Hosts,\n   the RDML (or RDMF) command can be used to read his mail at all the\n   sites where he has mailboxes.\n\n   ACCESS CONTROL IN MAIL SYSTEM\n\n   It has been suggested that FTP specification should require that mail\n   function (for receiving mail) should be \"free\", i.e., FTP servers\n   should not require the user to \"login\" (send the USER, PASS, and ACCT\n   commands).  In the absence of the access control commands the FTP\n   server should charge the cost of receiving mail to an overhead or\n   browsing account.  It should be noted that this \"free\" mail function\n   using default \"USER\" account may not allow non mail-related commands\n   without reinitializing.  This requirement will improve communication\n   among the network users.\n\n   Some systems, such as Multics, have mechanisms for access control in\n   the receipt of mail.  That is a user can specify who is eligible to\n   send him mail (normally users give then access \".*.*.*.\", i.e., any\n   one can send mail).  The access control commands would be required to\n   gain privileged access.  The USER command does not seem the best way\n   to identify the sender of mail.  Consider users logged in as GUEST,\n   ICCC, NETWORK, MIT-DMCG, and NETWORK-USER.  A separate FROM command\n   seems desirable.  Such a command can be used to identify the sender\n   as well as to send acknowledgments and replies.  The receiving site\n   can tag the mail as: FROM AKB at MIT-DMCG, logged in as GUEST.  The\n   receiver can then send reply to the mailbox address AKB at Host 70\n   (SNDMSG AKB@DMCG or MAIL DMCG AKB).\n\n   NETWORK INFORMATION CENTER FUNCTIONS\n\n   The NIC is a very special facility for handling mail.  It provides\n   facilities for recording and distributing mail to individuals and\n   groups of individuals, and for locating users' addresses.  The NIC\n   will also undertake to provide distribution of unrecorded mail.\n   Currently the NIC requires that users log into the NIC and use NLS to\n   create and distribute mail.  Using NLS for creating mail has been a\n   frustrating experience for many who are used to different editing\n   systems.  Recently there has been a problem that NIC is overloaded at\n   most times of the day and even if one can get a \"network terminal\"\n   and log in, the interaction is quite slow.  As NIC (or NLS) is\n   designed for character-at-a-time interaction with remote echo, the\n\n\n\n\nBhushan                                                         [Page 5]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   use is inefficient.  Using NIC is particularly unbearable when the\n   user falls behind in his echo by as much as an entire line.\n\n   An alternative to direct use of NIC is to use the NIC via FTP and\n   programs at the user's site.  The user can create journal documents\n   using his own local editing system and then transfer it to NIC via\n   FTP.  The user may have to specify such information as author, title,\n   where the acknowledgment should be sent, and journal number if the\n   item is to be recorded.  It should also be possible for users to send\n   sequential files to NIC and have them restructuredinto NLS form\n   without having to do an \"input sequential\" (a suggestion is to \"NLS\"\n   the file if its name is suffixed with a .NLS).  Alternately it should\n   be possible for user's to retrieve journal documents and other\n   sequential files without having to do a previous \"output sequential\".\n\n   The NIC currently delivers mail via hardcopy and/or on-line.  On-line\n   currently means that user must log into NIC to see if he has a\n   message and read it by \"print branch\".  The messages are not seen by\n   the destination users for several days and many users get their hard\n   copy before they have had a chance to examine their on-line NIC mail.\n   If the NIC were to deliver mail via FTP to network users, then the\n   mail turn-around time will be greatly speeded and the users will not\n   have to log into the NIC.  Large documents need not be mailed to the\n   user in their entirety but only a citation need be sent.  The NIC\n   willhave to collect the information on the mailbox addresses of\n   Network participants for delivering mail, especially since it appears\n   that many FTP servers are not \"respecting\" NIC idents.  It is\n   recognized that a user may have only one (the most used) of these\n   addresses.\n\n   The NIC identification subsystem (currently accessible via NLS only)\n   contains information on users (such as affiliation, US Mail address,\n   telephone numbers, etc.) and groups (members, etc.).  The on-line\n   mailbox address information can be added here.  The NIC will\n   undertake to provide a facility whereby the identification subsystem\n   can be querried by programs, allowing mailing programs to retrieve\n   the addresses automatically.  This facility will be separate from\n   FTP.\n\n   FTP MODIFICATIONS\n\n   The FTP currently does not provide explicit facilities for recording\n   mail, communicating sender's address, sending program readable\n   citations, specifying author and title for documents, requesting\n   acknowledgments, and indicating message type (urgent, ordinary, and\n   long).  To overcome these deficiencies, we can take any of the\n   following approaches:\n\n\n\n\nBhushan                                                         [Page 6]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   1. Kludge the desired features in the pathname syntax of the MAIL and\n      MLFL commands, justifying the kludge on the grounds that most of\n      the functions are to be used only by the NIC.\n\n   2. Add new commands for the desired functions and alter the MAIL and\n      MLFL commands somewhat to recognize the existence of the new\n      commands.\n\n   3. Define a new mail command which incorporates the missing functions\n      (in the process defining new commands for the desired functions).\n      The MAIL and MLFL commands can be used in their present form but\n      may be gradually phased out.\n\n   The first approach seems undesirable to me as many of the missing\n   functions can be used by other sites as well.  In addition it will be\n   easier to write programs to deal with commands rather than a complex\n   syntax.  The second and the third approaches are not very different\n   from each other.  The third approach seems preferable as it will\n   allow existing mail programs to function in their present form.\n   Using the third approach consider the following new FTP commands:\n\n   1. MLTO (mail to): The argument is one or more mailbox identifiers\n      separated by \",\" (commas).  It is suggested that if there is no\n      argument, the mail should be sent to some responsible user or\n      printed on a printer.  This command starts the sequence of\n      optional FTP mail related commands described below.  The sequence\n      ends with the TEXT, FILE, or CITA (citation) commands.\n\n   2. FROM: The argument is the address of the sender or senders.  It is\n      in a standard form that can be interpreted by programs as well as\n      human users.  The information is to be used for identifying the\n      sender(s), for sending replies, and for sending acknowledgments if\n      the receiver is an intermediate forwarding site.\n\n   3. MTYP (mail type): This identifies the type of mail as U (urgent),\n      O (ordinary), and L (long).  The receiving system can take the\n      appropriate actions from this knowledge.  The default assumption\n      is ordinary mail.\n\n   4. RECO (record the mail): The argument if present is the identifying\n      information for recording (such as NIC Journal number).  If no\n      argument is present the server will assign the recording\n      information and send an appropriate reply (real-time or deferred).\n\n   5. AUTH (author): Identifies the author of the document in a form\n      acceptable to the server (NIC ident may be required by NIC).\n\n\n\n\n\nBhushan                                                         [Page 7]\n\f\nRFC 475               FTP AND NETWORK MAIL SYSTEM             March 1973\n\n\n   6. TITL (title): Identifies the title of the document.  The argument\n      is an ASCII string ending with the sequence \"CRLF.CRLF\".\n\n   7. ACKN (acknowledge): Relevant for intermediate forwarding sites.\n      Asks the server to send acknowledgment on delivery or if delivery\n      fails within a specified time.\n\n   8. TEXT: No arguments.  Starts the transfer of mail over TELNET\n      connection in an identical manner as MAIL.\n\n   9. FILE: No arguments.  Starts transfer of mail over the data\n      connection in an identical manner as MLFL.\n\n   10. CITA (citation): Argument is the pathname of retrievable file.\n\n   We also need to define new reply codes for handling mail.  Some sites\n   have expressed the need for replies such as \"send only X bytes of\n   mail\".  Other replies could specifically request additional commands\n   such as USER/PASS/ACCT for privileged mailing, FROM/ACKN for mail\n   forwarding, and AUTH/TITL for recorded mail.  Another suggestion that\n   may be given consideration is allowing TYPE/BYTE other than A/8 for\n   FILE command.  Mailing large files between like machines such as\n   PDP-10s is more efficient in I/36.  The RDML and RDMF commands\n   proposed by Bressler and Thomas (NWG/RFC 458) also merit\n   consideration as they would aid the handling of mail for users who\n   have mailboxes at different Hosts.\n\n\n        [This RFC was put into machine readable form for entry]\n     [into the online RFC archives by Kelly Tardif, Viagenie 10/99]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBhushan                                                         [Page 8]\n\f\n"
}